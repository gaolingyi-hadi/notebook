## 虚拟 DOM 是什么
由DOM树来构建的对象，当该对象的值发生变化时,表示对应的DOM结构发生变化

## 虚拟 DOM 的优点
DOM每发生一次改变,浏览器都会**进行一次完整的渲染**(重排与重绘).
有了虚拟DOM之后,DOM发生改变时先修改对应虚拟DOM,虚拟DOM的改变并不会直接渲染,而是等所有改变完成之后进行渲染,避免不必要的操作从而提高性能

由于虚拟dom是个对象,所以可以跨平台并支持服务端渲染

## 虚拟 DOM 的缺点
当首次渲染**大量DOM**或者**全部DOM**,因为多了一层虚拟DOM的计算,反而比直接渲染慢

## DOM diff 是什么
比较两个虚拟DOM之间有什么差异的算法 

<!-- TODO  等待解答dom diff 有哪些策略 他的算法思路是怎样的-->


## DOM diff 的优点
对比新旧节点,查找出差异并只修改差异部分,极大提高性能

## DOM diff 的问题（key）

当虚拟DOM没有唯一标识(key)时,默认以索引作为标识,那么两个相同的节点由于索引不同依然会进行修改删除等操作
```js
//假设dom123没有区别

dom:["dom1","dom2","dom3"] //旧节点
dom:["dom1","dom3"] //新节点
```
#### 由旧节点到新节点是这样一个过程
对比`dom[1]`,发现不同,于是旧节点的`dom2`替换成新节点的`dom3`,并且删除旧节点的`dom3`,尽管这些节点内容都是相同的

#### 但只要加上key之后,可以区分由于索引不同的相同节点,那过程就变成这样
旧节点删除`dom2`,`dom3`索引由2变为1,即得到新节点

#### 因为加了key之后能知道新旧的`dom3`是同一个节点,而旧的`dom2`没有跟它一样的key,故明白已被删除
